{"version":3,"file":"commonHelpers.js","sources":["../src/js/menu.js"],"sourcesContent":["(() => {\n  // Находим все элементы меню\n  const mobileMenus = document.querySelectorAll('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n\n  // Проверяем наличие необходимых элементов\n  if (!openMenuBtn || !closeMenuBtn || mobileMenus.length === 0) return;\n\n  // Функция для переключения состояния меню\n  const toggleMenu = () => {\n    const isMenuOpen = openMenuBtn.getAttribute('aria-expanded') === 'true';\n\n    // Обновляем атрибут для управления состоянием меню\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n\n    // Переключаем класс 'is-open' для всех меню\n    mobileMenus.forEach(menu => {\n      menu.classList.toggle('is-open', !isMenuOpen);\n\n      // Обработчики событий для якорных ссылок\n      const anchors = menu.querySelectorAll('a[href*=\"#\"]');\n      anchors.forEach(anchor => {\n        if (!isMenuOpen) {\n          anchor.addEventListener(\"click\", closeMenuOnAnchorClick);\n        } else {\n          anchor.removeEventListener(\"click\", closeMenuOnAnchorClick);\n        }\n      });\n    });\n\n    // Переключаем блокировку прокрутки тела страницы\n    const scrollLockMethod = !isMenuOpen ? 'disableBodyScroll' : 'enableBodyScroll';\n    if (typeof bodyScrollLock !== 'undefined' && typeof bodyScrollLock[scrollLockMethod] === 'function') {\n      bodyScrollLock[scrollLockMethod](document.body);\n    }\n  };\n\n  // Функция для закрытия меню при клике на якорную ссылку\n  const closeMenuOnAnchorClick = () => {\n    openMenuBtn.setAttribute('aria-expanded', false);\n    mobileMenus.forEach(menu => {\n      menu.classList.remove('is-open');\n    });\n    if (typeof bodyScrollLock !== 'undefined' && typeof bodyScrollLock.enableBodyScroll === 'function') {\n      bodyScrollLock.enableBodyScroll(document.body);\n    }\n  };\n\n  // Добавляем обработчики событий для открытия и закрытия меню\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  // Закрываем меню при изменении ширины окна до указанного брейкпоинта\n  window.matchMedia('(min-width: 375px)').addEventListener('change', e => {\n    if (!e.matches) return;\n\n    mobileMenus.forEach(menu => {\n      menu.classList.remove('is-open');\n    });\n\n    openMenuBtn.setAttribute('aria-expanded', false);\n    if (typeof bodyScrollLock !== 'undefined' && typeof bodyScrollLock.enableBodyScroll === 'function') {\n      bodyScrollLock.enableBodyScroll(document.body);\n    }\n  });\n\n  document.addEventListener('DOMContentLoaded', () => {\n    // Найти все элементы с атрибутом data-menu-close\n    const closeButtons = document.querySelectorAll('[data-menu-close]');\n\n    // Добавить обработчик события клика для каждого элемента\n    closeButtons.forEach(button => {\n      button.addEventListener('click', () => {\n        mobileMenus.forEach(menu => {\n          menu.classList.remove('is-open');\n        });\n        openMenuBtn.setAttribute('aria-expanded', false);\n        if (typeof bodyScrollLock !== 'undefined' && typeof bodyScrollLock.enableBodyScroll === 'function') {\n          bodyScrollLock.enableBodyScroll(document.body);\n        }\n      });\n    });\n  });\n})();"],"names":["mobileMenus","openMenuBtn","closeMenuBtn","toggleMenu","isMenuOpen","menu","anchor","closeMenuOnAnchorClick","scrollLockMethod","button"],"mappings":"usBAAC,IAAM,CAEL,MAAMA,EAAc,SAAS,iBAAiB,oBAAoB,EAC5DC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,gBAAgB,EAG5D,GAAI,CAACD,GAAe,CAACC,GAAgBF,EAAY,SAAW,EAAG,OAG/D,MAAMG,EAAa,IAAM,CACvB,MAAMC,EAAaH,EAAY,aAAa,eAAe,IAAM,OAGjEA,EAAY,aAAa,gBAAiB,CAACG,CAAU,EAGrDJ,EAAY,QAAQK,GAAQ,CAC1BA,EAAK,UAAU,OAAO,UAAW,CAACD,CAAU,EAG5BC,EAAK,iBAAiB,cAAc,EAC5C,QAAQC,GAAU,CACnBF,EAGHE,EAAO,oBAAoB,QAASC,CAAsB,EAF1DD,EAAO,iBAAiB,QAASC,CAAsB,CAIjE,CAAO,CACP,CAAK,EAGD,MAAMC,EAAoBJ,EAAmC,mBAAtB,oBACnC,OAAO,eAAmB,KAAe,OAAO,eAAeI,CAAgB,GAAM,YACvF,eAAeA,CAAgB,EAAE,SAAS,IAAI,CAEpD,EAGQD,EAAyB,IAAM,CACnCN,EAAY,aAAa,gBAAiB,EAAK,EAC/CD,EAAY,QAAQK,GAAQ,CAC1BA,EAAK,UAAU,OAAO,SAAS,CACrC,CAAK,EACG,OAAO,eAAmB,KAAe,OAAO,eAAe,kBAAqB,YACtF,eAAe,iBAAiB,SAAS,IAAI,CAEnD,EAGEJ,EAAY,iBAAiB,QAASE,CAAU,EAChDD,EAAa,iBAAiB,QAASC,CAAU,EAGjD,OAAO,WAAW,oBAAoB,EAAE,iBAAiB,SAAU,GAAK,CACjE,EAAE,UAEPH,EAAY,QAAQK,GAAQ,CAC1BA,EAAK,UAAU,OAAO,SAAS,CACrC,CAAK,EAEDJ,EAAY,aAAa,gBAAiB,EAAK,EAC3C,OAAO,eAAmB,KAAe,OAAO,eAAe,kBAAqB,YACtF,eAAe,iBAAiB,SAAS,IAAI,EAEnD,CAAG,EAED,SAAS,iBAAiB,mBAAoB,IAAM,CAE7B,SAAS,iBAAiB,mBAAmB,EAGrD,QAAQQ,GAAU,CAC7BA,EAAO,iBAAiB,QAAS,IAAM,CACrCT,EAAY,QAAQK,GAAQ,CAC1BA,EAAK,UAAU,OAAO,SAAS,CACzC,CAAS,EACDJ,EAAY,aAAa,gBAAiB,EAAK,EAC3C,OAAO,eAAmB,KAAe,OAAO,eAAe,kBAAqB,YACtF,eAAe,iBAAiB,SAAS,IAAI,CAEvD,CAAO,CACP,CAAK,CACL,CAAG,CACH,GAAI"}